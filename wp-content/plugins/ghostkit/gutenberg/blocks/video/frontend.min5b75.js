!function(){const{GHOSTKIT:{events:e},Motion:{animate:t}}=window;function o(e){t(e,{opacity:[0,1],display:"flex"},{duration:.2,display:{duration:0}})}e.on(document,"init.blocks.gkt",(()=>{void 0!==window.VideoWorker&&document.querySelectorAll(".ghostkit-video:not(.ghostkit-video-ready)").forEach((i=>{i.classList.add("ghostkit-video-ready"),e.trigger(i,"prepare.video.gkt");const s=i.getAttribute("data-video"),a=i.getAttribute("data-click-action"),r="true"===i.getAttribute("data-video-autoplay"),d="true"===i.getAttribute("data-video-autopause"),l="true"===i.getAttribute("data-video-loop"),n=i.querySelector(".ghostkit-video-fullscreen-close-icon")?.innerHTML||"",c=i.getAttribute("data-fullscreen-background-color");let g=i.querySelector(".ghostkit-video-poster"),p=!1,u=0,v=i.getAttribute("data-video-aspect-ratio");const k=v.split(":")[0],f=v.split(":")[1];v=v&&k&&f?k/f:16/9,parseFloat(i.getAttribute("data-video-volume"))||(u=1),r&&(u=1);const m={autoplay:0,loop:l,mute:u,volume:parseFloat(i.getAttribute("data-video-volume"))||0,showContols:1};e.trigger(i,"prepare.videoWorker.gkt",{options:m});const h=new window.VideoWorker(s,m);if(e.trigger(i,"prepared.videoWorker.gkt",{api:h}),h&&h.isValid()){let s=0,l=0,u=!1;const v=()=>{l||(l=1,"fullscreen"===a?s?p&&(i.classList.remove("ghostkit-video-fullscreen-closed"),o(p),h.play()):(i.classList.add("ghostkit-video-loading"),h.getIframe((s=>{const a=s.parentNode,r=document.createElement("div");r.classList.add("ghostkit-video-fullscreen-frame"),r.append(s);const d=document.createElement("div");d.classList.add("ghostkit-video-fullscreen-close"),d.innerHTML=n,p=document.createElement("div"),p.classList.add("ghostkit-video-fullscreen"),p.style.backgroundColor=c,p.style.setProperty("--gkt-fullscreen-video__aspect-ratio-width",k),p.style.setProperty("--gkt-fullscreen-video__aspect-ratio-height",f),p.append(d),p.append(r),document.body.append(p),a.remove(),o(p),e.on(p,"click",(e=>{const o=e.target;(o.classList.contains("ghostkit-video-fullscreen")||o.classList.contains("ghostkit-video-fullscreen-close")||o.closest(".ghostkit-video-fullscreen-close"))&&(h.pause(),i.classList.add("ghostkit-video-fullscreen-closed"),t(p,{opacity:[1,0],display:"none"},{duration:.2}))}))})),s=1):s?h.play():(i.classList.add("ghostkit-video-loading"),h.getIframe((e=>{const t=e.parentNode,o=document.createElement("div");o.classList.add("ghostkit-video-frame"),o.append(e),i.append(o),t.remove()})),s=1))};e.on(i,"click",v),g||i.classList.contains("is-style-icon-only")||h.getImageURL((e=>{const t=document.createElement("img");t.setAttribute("src",e),t.setAttribute("alt",""),g=document.createElement("div"),g.classList.add("ghostkit-video-poster"),g.append(t),i.append(g)}));let m=!1;if(h.on("ready",(()=>{i.classList.remove("ghostkit-video-loading"),"fullscreen"===a?i.classList.contains("ghostkit-video-fullscreen-closed")||h.play():(i.classList.add("ghostkit-video-playing"),h.play())})),h.on("play",(()=>{u=!0})),h.on("pause",(()=>{u=!1,m=!0,"fullscreen"===a&&(l=0)})),"fullscreen"!==a&&(r||d)){if(!("IntersectionObserver"in window))return;const t={callback:e=>{e.forEach((e=>{i===e.target&&(!m&&!u&&r&&e.isIntersecting&&(l?h.play():i.click()),u&&d&&!e.isIntersecting&&h.pause())}))},options:{threshold:.6}};e.trigger(i,"prepare.videoObserver.gkt",{config:t}),new IntersectionObserver(t.callback,t.options).observe(i)}}e.trigger(i,"prepared.video.gkt")}))}))}();